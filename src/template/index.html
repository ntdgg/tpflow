<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tpflow工作流引擎 V7.0</title>
    <link rel="stylesheet" href="/static/work/app.css">
</head>
<style type="text/css">
    .tooltiptext {
        width: 260px;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 5px 0;
        position: absolute;
        z-index: 1;
        display: none;
        opacity: 0.7;
    }
</style>
<body>
<div class="wrap">
    <div class="header">
        Tpflow工作流引擎 V7.0
    </div>
    <div class='toolbar'>
        <hr  style="margin: 0 5px;padding-top: 5px;border: none;border-bottom: solid 1px #DDD;clear: both;"/>
        <a onclick='TFAPI.sApi("save")'>♡ 保存</a>
        <a onclick='TFAPI.sApi("delAll")'>✘ 清空</a>
        <a onclick='TFAPI.sApi("Refresh")'>➲ 刷新</a>
        <hr  style="margin: 0 5px;padding-top: 5px;border: none;border-bottom: solid 1px #DDD;clear: both;"/>
        <a onclick='TFAPI.sApi("check")'>♢ 校验</a>
        <a onclick='TFAPI.sApi()'>↓ 下载</a>
        <a onclick='TFAPI.sApi("Doc")'>© 版权</a>
        <a title="缩小" onclick='TFAPI.sApi("zoomIn")' style="z-index:9999;position: fixed;left: 97%;font-weight: 1000;">-</a>
        <a title="放大" onclick='TFAPI.sApi("zoomOut")' style="z-index:9999;position: fixed;left: 98%;font-weight: 1000;">+</a>
    </div>
    <div class="content">
        <div class="app-stencil" id="sidebar"></div>
        <div class="app-content" id="main"></div>
        <div id="minimap" class="minimap"></div>
    </div>
</div>
    <div id="tooltipText" class="tooltiptext"></div>

<script>
    const Tpflow_Id = {$id};
    const Tpflow_Server_Url = '{$surl}';
</script>
<script src="/static/work/jquery-1.7.2.min.js"></script>
<script src="/static/work/lib/layer/2.4/layer.js"></script>
<script src="/static/work/tpflow.x6.js"></script>
<script src="/static/work/app.js"></script>
<script src="/static/work/tpflow.node.js"></script>
<script src="/static/work/tpflow.api.js"></script>
<script>
    function resize(){
        const width=document.body.offsetWidth - 120;
        const height=document.body.offsetHeight -120;
        graph.resize(width, height);
    }
    window.onresize = function (){
        resize()
    }
    resize();
    stencil.load([startNode, flowNode, judgeNode, msg_node,ccNode, linkNode ])
    graph.fromJSON({$x6|raw});
</script>
</body>
</html>